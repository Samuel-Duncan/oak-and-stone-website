doctype html
html
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    meta(http-equiv="X-UA-Compatible" content="IE=edge")
    meta(name="description" content="Oak & Stone Client Portal")
    title= title
    link(rel="stylesheet", href="/stylesheets/bootstrap.min.css")
    link(rel='stylesheet', href='/stylesheets/index.css')
    link(rel='stylesheet', href='/stylesheets/layout.css')
    link(rel="icon" type="image/x-icon" href="../images/OSC Emblem.png")
    script(src="/javascripts/bootstrap.bundle.min.js")
    block stylesheets
  body
    header.main-header
      .header-content
        if currentUser && currentUser.isAdmin 
          nav.navbar
            div.container-fluid
              button.navbar-toggler(type='button', data-bs-toggle='offcanvas',   
              data-bs-target='#offcanvasNavbar', aria-controls='offcanvasNavbar', aria-label='Toggle navigation')
                svg(xmlns="http://www.w3.org/2000/svg", width="20", height="20", fill="currentColor", class="bi bi-list", viewBox="0 0 16 16")
                  path(fill-rule="evenodd", d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5")
              div.nav-wrapper.offcanvas.offcanvas-end(tabindex='-1', id='offcanvasNavbar', aria-labelledby='offcanvasNavbarLabel')
                div.offcanvas-header
                  h5#offcanvasNavbarLabel.offcanvas-title Menu
                  button.btn-close(type='button', data-bs-dismiss='offcanvas', aria-label='Close')
                div.offcanvas-body
                  ul.navbar-nav.justify-content-end.flex-grow-1.pe-3
                    li.nav-item
                      a.nav-link(aria-current='page', href='/') Home
                    li.nav-item
                      a.nav-link(href='/users/') Clients
                    li.nav-item
                      a.nav-link(href='/auth/sign-up/') Create Client
        .logo
          a(href="/")
            img(src="/images/OSC Emblem.png", alt="Logo")
        if currentUser
          a.button.main-header-button(href="/auth/sign-out") Sign Out
        else
          a.button.main-header-button(href="/auth/sign-in") Sign In
    main
      block content
    
    script.
      // Header scroll effect
      const header = document.querySelector('.main-header');
      const scrollThreshold = 100; // Adjust this value to change when the background appears
      
      window.addEventListener('scroll', () => {
        if (window.scrollY > scrollThreshold) {
          // Add dark, semi-transparent background after scrolling
          header.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
          header.style.transition = 'background-color 0.3s ease';
        } else {
          // Return to transparent when scrolled back to top
          header.style.backgroundColor = 'rgba(0, 0, 0, 0)';
        }
      });